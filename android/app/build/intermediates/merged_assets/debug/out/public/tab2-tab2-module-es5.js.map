{"version":3,"sources":["src/app/tab2/tab2.page.html","src/app/tab2/tab2-routing.module.ts","src/app/tab2/tab2.module.ts","src/app/tab2/tab2.page.scss","src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Seleccione la canción\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Seleccioná la canción</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div class=\\\"loader\\\" *ngIf=\\\"loading\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n\\n  <div class=\\\"items\\\" *ngIf=\\\"!loading\\\">\\n    <ion-item *ngFor=\\\"let video of videos\\\" (click)=\\\"startVideo(video.ETag)\\\">\\n      {{video.Key.split('.')[0].replace(regex, ' ')}}\\n    </ion-item>\\n  </div>\\n\\n  <div *ngIf=\\\"webVideo.show\\\">\\n    <h2>Web</h2>\\n    <video [crossOrigin]=\\\"'anonymous'\\\" [autoplay]=\\\"true\\\" [muted]=\\\"false\\\">\\n      <source [src]=\\\"webVideo.src\\\" type=\\\"video/mp4\\\">\\n    </video>\\n  </div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \".loader {\\n  text-align: center;\\n}\\n.loader ion-spinner {\\n  width: 70px;\\n  height: 70px;\\n}\\n.items .ion-item {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qamFyYW1pbC9Eb2N1bWVudHMvSkovUHJvamVjdHMvZXhwZXJpZW5jaWEtYm9saWNoZS9zcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGO0FEQUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0VKO0FER0U7RUFDRSxlQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRlcntcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBpb24tc3Bpbm5lciB7XG4gICAgd2lkdGg6IDcwcHg7XG4gICAgaGVpZ2h0OiA3MHB4O1xuICB9XG59XG5cbi5pdGVtcyB7XG4gIC5pb24taXRlbSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG59XG4iLCIubG9hZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmxvYWRlciBpb24tc3Bpbm5lciB7XG4gIHdpZHRoOiA3MHB4O1xuICBoZWlnaHQ6IDcwcHg7XG59XG5cbi5pdGVtcyAuaW9uLWl0ZW0ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { StreamingMedia, StreamingVideoOptions } from '@ionic-native/streaming-media/ngx';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\nimport { LoadingController } from '@ionic/angular';\nimport { AdMobFree, AdMobFreeBannerConfig } from '@ionic-native/admob-free/ngx';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss'],\n})\nexport class Tab2Page implements OnInit {\n\n  loading: boolean = true;\n\n  result: string;\n  file: MediaObject;\n\n  webVideo = {show: false, src: ''};\n  regex = RegExp(/_/g);\n  videos;\n\n  constructor(private platform: Platform, private splashScreen: SplashScreen, \n              private media: Media,private statusBar: StatusBar,\n              private streamingMedia: StreamingMedia,\n              public loadingController: LoadingController,private admobFree: AdMobFree) { }\n\n  ngOnInit() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n   \n    \n    if (this.platform.is('hybrid')) {\n      const bannerConfig: AdMobFreeBannerConfig = {\n        // add your config here\n        // for the sake of this example we will just use the test config\n        id: 'ca-app-pub-6326566524185956/6552298156',\n        isTesting: false,\n        autoShow: true\n      };\n      this.admobFree.banner.config(bannerConfig);\n\n      this.admobFree.banner.prepare()\n          .then(() => {\n            // banner Ad is ready\n            // if we set autoShow to false, then we will need to call the show method here\n            this.admobFree.banner.show();\n          })\n          .catch(e => console.log(e));\n    }\n  });\n  this.getList();\n}\n\n  startVideo(id){\n    let selectedVideo = this.videos.find(video => video.ETag === id).Key;\n    this.platform.ready().then(() => {\n      if (this.platform.is('hybrid')) {\n        let options: StreamingVideoOptions ={\n          successCallback: () => {this.result = 'exito'},\n          errorCallback: () => {this.result = 'error'},\n          orientation:'landscape'\n        }\n        this.streamingMedia.playVideo('https://expbnn.s3.amazonaws.com/' + selectedVideo,options);\n      } else {\n          this.webVideo.show = true;\n          this.webVideo.src = 'https://expbnn.s3.amazonaws.com/' + selectedVideo;\n      }\n    });\n  }\n\n  getList() {\n    let bucket = 'expbnn';\n    let region = 'us-east-1';\n    let prefix = '';\n    fetch(this.getIndexUrl(bucket, region, prefix))\n        .then(response => response.text())\n        .then(str => (new DOMParser()).parseFromString(str, \"text/xml\"))\n        .then(data => {\n          const obj = this.xml2json(data);\n          this.videos = obj.ListBucketResult.Contents;\n          this.loading = false;\n        })\n  }\n\n  getIndexUrl(bucket, region, prefix) {\n    return 'https://s3.' + region + '.amazonaws.com/' + bucket + '/?delimiter=/&prefix=' + prefix;\n  }\n\n  /**\n   * This function coverts a DOM Tree into JavaScript Object.\n   * @param srcDOM: DOM Tree to be converted.\n   */\n  xml2json(srcDOM) {\n    let children = [...srcDOM.children];\n\n    // base case for recursion.\n    if (!children.length) {\n      return srcDOM.innerHTML\n    }\n\n    // initializing object to be returned.\n    let jsonResult = {};\n\n    for (let child of children) {\n\n      // checking is child has siblings of same name.\n      let childIsArray = children.filter(eachChild => eachChild.nodeName === child.nodeName).length > 1;\n\n      // if child is array, save the values as array, else as strings.\n      if (childIsArray) {\n        if (jsonResult[child.nodeName] === undefined) {\n          jsonResult[child.nodeName] = [this.xml2json(child)];\n        } else {\n          jsonResult[child.nodeName].push(this.xml2json(child));\n        }\n      } else {\n        jsonResult[child.nodeName] = this.xml2json(child);\n      }\n    }\n\n    return jsonResult;\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"tab2-tab2-module-es5.js"}
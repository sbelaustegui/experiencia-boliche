{"version":3,"sources":["./src/app/tab2/tab2.page.html","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Seleccione la canción\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Seleccioná la canción</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div class=\\\"loader\\\" *ngIf=\\\"loading\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n\\n  <div class=\\\"items\\\" *ngIf=\\\"!loading\\\">\\n    <ion-item *ngFor=\\\"let video of videos\\\" (click)=\\\"startVideo(video.ETag)\\\">\\n      {{video.Key.split('.')[0].replace(regex, ' ')}}\\n    </ion-item>\\n  </div>\\n\\n  <div *ngIf=\\\"webVideo.show\\\">\\n    <h2>Web</h2>\\n    <video [crossOrigin]=\\\"'anonymous'\\\" [autoplay]=\\\"true\\\" [muted]=\\\"false\\\">\\n      <source [src]=\\\"webVideo.src\\\" type=\\\"video/mp4\\\">\\n    </video>\\n  </div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \".loader {\\n  text-align: center;\\n}\\n.loader ion-spinner {\\n  width: 70px;\\n  height: 70px;\\n}\\n.items .ion-item {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qamFyYW1pbC9Eb2N1bWVudHMvSkovUHJvamVjdHMvZXhwZXJpZW5jaWEtYm9saWNoZS9zcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGO0FEQUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0VKO0FER0U7RUFDRSxlQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRlcntcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBpb24tc3Bpbm5lciB7XG4gICAgd2lkdGg6IDcwcHg7XG4gICAgaGVpZ2h0OiA3MHB4O1xuICB9XG59XG5cbi5pdGVtcyB7XG4gIC5pb24taXRlbSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG59XG4iLCIubG9hZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmxvYWRlciBpb24tc3Bpbm5lciB7XG4gIHdpZHRoOiA3MHB4O1xuICBoZWlnaHQ6IDcwcHg7XG59XG5cbi5pdGVtcyAuaW9uLWl0ZW0ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { StreamingMedia, StreamingVideoOptions } from '@ionic-native/streaming-media/ngx';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\nimport { LoadingController } from '@ionic/angular';\nimport { AdMobFree, AdMobFreeBannerConfig } from '@ionic-native/admob-free/ngx';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss'],\n})\nexport class Tab2Page implements OnInit {\n\n  loading: boolean = true;\n\n  result: string;\n  file: MediaObject;\n\n  webVideo = {show: false, src: ''};\n  regex = RegExp(/_/g);\n  videos;\n\n  constructor(private platform: Platform, private splashScreen: SplashScreen, \n              private media: Media,private statusBar: StatusBar,\n              private streamingMedia: StreamingMedia,\n              public loadingController: LoadingController,private admobFree: AdMobFree) { }\n\n  ngOnInit() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n   \n    \n    if (this.platform.is('hybrid')) {\n      const bannerConfig: AdMobFreeBannerConfig = {\n        // add your config here\n        // for the sake of this example we will just use the test config\n        id: 'ca-app-pub-6326566524185956/6552298156',\n        isTesting: false,\n        autoShow: true\n      };\n      this.admobFree.banner.config(bannerConfig);\n\n      this.admobFree.banner.prepare()\n          .then(() => {\n            // banner Ad is ready\n            // if we set autoShow to false, then we will need to call the show method here\n            this.admobFree.banner.show();\n          })\n          .catch(e => console.log(e));\n    }\n  });\n  this.getList();\n}\n\n  startVideo(id){\n    let selectedVideo = this.videos.find(video => video.ETag === id).Key;\n    this.platform.ready().then(() => {\n      if (this.platform.is('hybrid')) {\n        let options: StreamingVideoOptions ={\n          successCallback: () => {this.result = 'exito'},\n          errorCallback: () => {this.result = 'error'},\n          orientation:'landscape'\n        }\n        this.streamingMedia.playVideo('https://expbnn.s3.amazonaws.com/' + selectedVideo,options);\n      } else {\n          this.webVideo.show = true;\n          this.webVideo.src = 'https://expbnn.s3.amazonaws.com/' + selectedVideo;\n      }\n    });\n  }\n\n  getList() {\n    let bucket = 'expbnn';\n    let region = 'us-east-1';\n    let prefix = '';\n    fetch(this.getIndexUrl(bucket, region, prefix))\n        .then(response => response.text())\n        .then(str => (new DOMParser()).parseFromString(str, \"text/xml\"))\n        .then(data => {\n          const obj = this.xml2json(data);\n          this.videos = obj.ListBucketResult.Contents;\n          this.loading = false;\n        })\n  }\n\n  getIndexUrl(bucket, region, prefix) {\n    return 'https://s3.' + region + '.amazonaws.com/' + bucket + '/?delimiter=/&prefix=' + prefix;\n  }\n\n  /**\n   * This function coverts a DOM Tree into JavaScript Object.\n   * @param srcDOM: DOM Tree to be converted.\n   */\n  xml2json(srcDOM) {\n    let children = [...srcDOM.children];\n\n    // base case for recursion.\n    if (!children.length) {\n      return srcDOM.innerHTML\n    }\n\n    // initializing object to be returned.\n    let jsonResult = {};\n\n    for (let child of children) {\n\n      // checking is child has siblings of same name.\n      let childIsArray = children.filter(eachChild => eachChild.nodeName === child.nodeName).length > 1;\n\n      // if child is array, save the values as array, else as strings.\n      if (childIsArray) {\n        if (jsonResult[child.nodeName] === undefined) {\n          jsonResult[child.nodeName] = [this.xml2json(child)];\n        } else {\n          jsonResult[child.nodeName].push(this.xml2json(child));\n        }\n      } else {\n        jsonResult[child.nodeName] = this.xml2json(child);\n      }\n    }\n\n    return jsonResult;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}